syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.hotel.grpc.discount";
option java_outer_classname = "DiscountServiceProto";

service DiscountService {
  rpc CalculateDiscount(DiscountRequest) returns (DiscountResponse) {}

  rpc GetRecommendations(RecommendationRequest) returns (RecommendationResponse) {}
}

message DiscountRequest {
  string booking_id = 1;
  string user_id = 2;
  string hotel_id = 3;
  int32 nights = 4;
  double base_price = 5;
  bool is_loyal_customer = 6;
}

message DiscountResponse {
  string booking_id = 1;
  double discount_percentage = 2;
  double final_price = 3;
  string discount_reason = 4;
  bool applied = 5;
}

message RecommendationRequest {
  string user_id = 1;
  string hotel_id = 2;
}

message RecommendationResponse {
  repeated string recommended_hotel_ids = 1;
  string message = 2;
}